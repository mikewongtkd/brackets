<html>
	<head>
		<link href="include/fontawesome/css/font-awesome.min.css" rel="stylesheet" />
		<link href="include/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
		<link href="include/bootstrap/add-ons/editable/css/bootstrap-editable.css" rel="stylesheet" />
		<link href="include/codemirror/lib/codemirror.css" rel="stylesheet" />
		<link href="include/alertify/css/alertify.min.css" rel="stylesheet" />
		<link href="include/alertify/css/themes/default.min.css" rel="stylesheet" />
		<link href="include/brackets/css/brackets.css" rel="stylesheet" />
		<script src="include/svg/svg.min.js"></script>
		<script src="include/jquery/js/jquery.min.js"></script>
		<script src="include/jquery/js/jquery-ui.min.js"></script>
		<script src="include/bootstrap/js/bootstrap.min.js"></script>
		<script src="include/bootstrap/add-ons/editable/js/bootstrap-editable.min.js"></script>
		<script src="include/brackets/js/freescore.js"></script>
		<script src="include/brackets/js/score.class.js"></script>
		<script src="include/brackets/js/athlete.class.js"></script>
		<script src="include/brackets/js/division.class.js"></script>
		<script src="include/brackets/js/brackets.js"></script>
		<script src="include/codemirror/lib/codemirror.js"></script>
	</head>
	<body>
		<div class="page-header">
			<div class="container">
				<h1 id="division-description">Division</h1>
				<div class="brackets" id="brackets"></div> 
				<h4>Athletes</h4>
				<textarea id="athletes" class="panel-body"></textarea>
			</div>
		</div>
		<div class="container">
			
		</div>
		<script>
			var data     = {};
			var division = new Division( data );
			var athletes = { textarea: document.getElementById( 'athletes' ) };

			$( function() {
				$( '#division-description' ).editable({ 
					type:    'text', 
					title:   'Enter division description', 
					success: function( response, newValue ) {
					
					division.description = newValue;
				}});
				athletes.editor = CodeMirror.fromTextArea( athletes.textarea, { lineNumbers: true });
				athletes.editor.setSize( '100%', '480' );
				athletes.editor.on( 'change', function( cm, change ) { 
					var list  = { text : cm.getValue() };
					var names = list.text.split( /\n/ );
					data.athletes = [];
					names.forEach( function( name, i ) { data.athletes.push({ name: name }); });

					$( '#brackets' ).empty();
					$( '#brackets' ).brackets( division );
				});
			});
		</script>
	</body>
</html>
